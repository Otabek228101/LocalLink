{
  "info": {
    "name": "LocalLink API - ÐŸÐ¾Ð»Ð½Ð°Ñ ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ñ",
    "description": "ÐŸÐ¾Ð»Ð½Ð°Ñ ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ñ Ð´Ð»Ñ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ LocalLink API Ñ Ð´Ð²ÑƒÐ¼Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑÐ¼Ð¸ Ð¸ Ñ‡Ð°Ñ‚Ð¾Ð¼",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:4000"
    },
    {
      "key": "api_url",
      "value": "{{base_url}}/api/v1"
    },
    {
      "key": "auth_token_user1",
      "value": ""
    },
    {
      "key": "auth_token_user2",
      "value": ""
    },
    {
      "key": "user1_id",
      "value": ""
    },
    {
      "key": "user2_id",
      "value": ""
    },
    {
      "key": "post_id",
      "value": ""
    },
    {
      "key": "offer_id",
      "value": ""
    },
    {
      "key": "conversation_id",
      "value": ""
    }
  ],
  "item": [
    {
      "name": "ðŸ” Health Check",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/health",
              "host": ["{{base_url}}"],
              "path": ["health"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Health check successful', () => {",
                  "    pm.response.to.have.status(200);",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.status).to.eql('healthy');",
                  "});"
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "ðŸ” Authentication - User 1 (Ð Ð°Ð±Ð¾Ñ‚Ð¾Ð´Ð°Ñ‚ÐµÐ»ÑŒ)",
      "item": [
        {
          "name": "Register User 1",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.environment.set('auth_token_user1', response.token);",
                  "    pm.environment.set('user1_id', response.user.id);",
                  "    pm.test('User 1 registration successful', () => {",
                  "        pm.expect(response.token).to.exist;",
                  "        pm.expect(response.user.email).to.eql('employer@example.com');",
                  "    });",
                  "} else {",
                  "    pm.test('Registration failed or user exists', () => {",
                  "        pm.expect(pm.response.code).to.be.oneOf([201, 422]);",
                  "    });",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user\": {\n    \"email\": \"employer@example.com\",\n    \"password\": \"password123\",\n    \"first_name\": \"ÐÐ½Ð½Ð°\",\n    \"last_name\": \"Ð˜Ð²Ð°Ð½Ð¾Ð²Ð°\",\n    \"phone\": \"+998901234567\",\n    \"location\": \"Ð¢Ð°ÑˆÐºÐµÐ½Ñ‚, ÐœÐ¸Ñ€Ð·Ð¾-Ð£Ð»ÑƒÐ³Ð±ÐµÐº\",\n    \"skills\": \"ÐœÐµÐ½ÐµÐ´Ð¶Ð¼ÐµÐ½Ñ‚, ÐžÑ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ\",\n    \"availability\": \"ÐŸÐ¾Ð»Ð½Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ\"\n  }\n}"
            },
            "url": {
              "raw": "{{api_url}}/register",
              "host": ["{{api_url}}"],
              "path": ["register"]
            }
          }
        },
        {
          "name": "Login User 1",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.environment.set('auth_token_user1', response.token);",
                  "    pm.environment.set('user1_id', response.user.id);",
                  "    pm.test('User 1 login successful', () => {",
                  "        pm.expect(response.token).to.exist;",
                  "    });",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"employer@example.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{api_url}}/login",
              "host": ["{{api_url}}"],
              "path": ["login"]
            }
          }
        }
      ]
    },
    {
      "name": "ðŸ” Authentication - User 2 (Ð˜ÑÐ¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒ)",
      "item": [
        {
          "name": "Register User 2",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.environment.set('auth_token_user2', response.token);",
                  "    pm.environment.set('user2_id', response.user.id);",
                  "    pm.test('User 2 registration successful', () => {",
                  "        pm.expect(response.token).to.exist;",
                  "        pm.expect(response.user.email).to.eql('worker@example.com');",
                  "    });",
                  "} else {",
                  "    pm.test('Registration failed or user exists', () => {",
                  "        pm.expect(pm.response.code).to.be.oneOf([201, 422]);",
                  "    });",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user\": {\n    \"email\": \"worker@example.com\",\n    \"password\": \"password123\",\n    \"first_name\": \"Ð”Ð¼Ð¸Ñ‚Ñ€Ð¸Ð¹\",\n    \"last_name\": \"ÐŸÐµÑ‚Ñ€Ð¾Ð²\",\n    \"phone\": \"+998907654321\",\n    \"location\": \"Ð¢Ð°ÑˆÐºÐµÐ½Ñ‚, Ð®Ð½ÑƒÑ-ÐÐ±Ð°Ð´\",\n    \"skills\": \"Python, Django, JavaScript, React\",\n    \"availability\": \"ÐÐµÐ¿Ð¾Ð»Ð½Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ\"\n  }\n}"
            },
            "url": {
              "raw": "{{api_url}}/register",
              "host": ["{{api_url}}"],
              "path": ["register"]
            }
          }
        },
        {
          "name": "Login User 2",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.environment.set('auth_token_user2', response.token);",
                  "    pm.environment.set('user2_id', response.user.id);",
                  "    pm.test('User 2 login successful', () => {",
                  "        pm.expect(response.token).to.exist;",
                  "    });",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"worker@example.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{api_url}}/login",
              "host": ["{{api_url}}"],
              "path": ["login"]
            }
          }
        }
      ]
    },
    {
      "name": "ðŸ“ Posts Management",
      "item": [
        {
          "name": "User 1: Create Job Post",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.environment.set('post_id', response.post.id);",
                  "    pm.test('Post created by User 1', () => {",
                  "        pm.expect(response.post.id).to.exist;",
                  "        pm.expect(response.post.title).to.include('Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸ÑÑ‚');",
                  "    });",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token_user1}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"post\": {\n    \"title\": \"ÐÑƒÐ¶ÐµÐ½ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸ÑÑ‚ Python\",\n    \"description\": \"Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ Ð½ÐµÐ±Ð¾Ð»ÑŒÑˆÐ¾Ð¹ Ð²ÐµÐ±-ÑÐ°Ð¹Ñ‚ Ð½Ð° Django. ÐžÐ¿Ñ‹Ñ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ð¾Ñ‚ 2 Ð»ÐµÑ‚. Ð¡Ñ€Ð¾ÐºÐ¸ - 2 Ð½ÐµÐ´ÐµÐ»Ð¸.\",\n    \"category\": \"job\",\n    \"post_type\": \"offer\",\n    \"location\": \"Ð¢Ð°ÑˆÐºÐµÐ½Ñ‚, ÐœÐ¸Ñ€Ð·Ð¾-Ð£Ð»ÑƒÐ³Ð±ÐµÐº\",\n    \"urgency\": \"this_week\",\n    \"price\": 500000,\n    \"currency\": \"UZS\",\n    \"skills_required\": \"Python, Django, HTML, CSS, JavaScript\",\n    \"duration_estimate\": \"2 Ð½ÐµÐ´ÐµÐ»Ð¸\",\n    \"max_distance_km\": 15,\n    \"contact_preference\": \"app\"\n  }\n}"
            },
            "url": {
              "raw": "{{api_url}}/posts",
              "host": ["{{api_url}}"],
              "path": ["posts"]
            }
          }
        },
        {
          "name": "Get All Posts",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_url}}/posts",
              "host": ["{{api_url}}"],
              "path": ["posts"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Posts retrieved successfully', () => {",
                  "    pm.response.to.have.status(200);",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.posts).to.be.an('array');",
                  "});"
                ]
              }
            }
          ]
        },
        {
          "name": "Get Specific Post",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_url}}/posts/{{post_id}}",
              "host": ["{{api_url}}"],
              "path": ["posts", "{{post_id}}"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Post details retrieved', () => {",
                  "    pm.response.to.have.status(200);",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.post.id).to.eql(pm.environment.get('post_id'));",
                  "});"
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "ðŸ’¼ Offers System",
      "item": [
        {
          "name": "User 2: Accept Original Price",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.environment.set('offer_id', response.offer.id);",
                  "    pm.test('Offer created successfully', () => {",
                  "        pm.expect(response.offer.id).to.exist;",
                  "        pm.expect(response.offer.status).to.eql('accepted');",
                  "    });",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token_user2}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"Ð“Ð¾Ñ‚Ð¾Ð² Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ Ð·Ð° ÑƒÐºÐ°Ð·Ð°Ð½Ð½ÑƒÑŽ Ñ†ÐµÐ½Ñƒ! Ð£ Ð¼ÐµÐ½Ñ ÐµÑÑ‚ÑŒ Ð¾Ð¿Ñ‹Ñ‚ Ñ Django Ð¸ Python.\"\n}"
            },
            "url": {
              "raw": "{{api_url}}/posts/{{post_id}}/offers/accept-price",
              "host": ["{{api_url}}"],
              "path": ["posts", "{{post_id}}", "offers", "accept-price"]
            }
          }
        },
        {
          "name": "User 2: Make Counter Offer",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token_user2}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"offered_price\": 400000,\n \"currency\":\"UZS\",\n \"message\": \"ÐœÐ¾Ð³Ñƒ ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ Ð·Ð° 400Ðº ÑÑƒÐ¼. ÐšÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð³Ð°Ñ€Ð°Ð½Ñ‚Ð¸Ñ€ÑƒÑŽ, Ð¿Ð¾Ñ€Ñ‚Ñ„Ð¾Ð»Ð¸Ð¾ Ð¼Ð¾Ð³Ñƒ Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ.\"\n}"
            },
            "url": {
              "raw": "{{api_url}}/posts/{{post_id}}/offers/counter-offer",
              "host": ["{{api_url}}"],
              "path": ["posts", "{{post_id}}", "offers", "counter-offer"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.test('Counter offer created', () => {",
                  "        pm.expect(response.offer.status).to.eql('pending');",
                  "        pm.expect(response.offer.offered_price).to.exist;",
                  "    });",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "User 1: Get Offers for Post",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token_user1}}"
              }
            ],
            "url": {
              "raw": "{{api_url}}/posts/{{post_id}}/offers",
              "host": ["{{api_url}}"],
              "path": ["posts", "{{post_id}}", "offers"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Offers retrieved for post', () => {",
                  "    pm.response.to.have.status(200);",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.offers).to.be.an('array');",
                  "});"
                ]
              }
            }
          ]
        },
        {
          "name": "User 1: Accept Offer",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token_user1}}"
              }
            ],
            "url": {
              "raw": "{{api_url}}/offers/{{offer_id}}/accept",
              "host": ["{{api_url}}"],
              "path": ["offers", "{{offer_id}}", "accept"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.test('Offer accepted', () => {",
                  "        pm.expect(response.offer.status).to.eql('accepted');",
                  "    });",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "User 2: Complete Work",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token_user2}}"
              }
            ],
            "url": {
              "raw": "{{api_url}}/offers/{{offer_id}}/complete",
              "host": ["{{api_url}}"],
              "path": ["offers", "{{offer_id}}", "complete"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.test('Work completed', () => {",
                  "        pm.expect(response.offer.status).to.eql('completed');",
                  "    });",
                  "}"
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "ðŸ’¬ Chat System",
      "item": [
        {
          "name": "User 2: Start Conversation",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.environment.set('conversation_id', response.conversation.id);",
                  "    pm.test('Conversation created', () => {",
                  "        pm.expect(response.conversation.id).to.exist;",
                  "    });",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token_user2}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"post_id\": \"{{post_id}}\",\n  \"participant_id\": \"{{user1_id}}\"\n}"
            },
            "url": {
              "raw": "{{api_url}}/conversations",
              "host": ["{{api_url}}"],
              "path": ["conversations"]
            }
          }
        },
        {
          "name": "User 2: Send Message",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token_user2}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"body\": \"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð¯ Ð·Ð°Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÐ¾Ð²Ð°Ð½ Ð² Ð²Ð°ÑˆÐµÐ¼ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ðµ. ÐœÐ¾Ð³Ñƒ Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð¿Ð¾Ñ€Ñ‚Ñ„Ð¾Ð»Ð¸Ð¾.\"\n}"
            },
            "url": {
              "raw": "{{api_url}}/conversations/{{conversation_id}}/messages",
              "host": ["{{api_url}}"],
              "path": ["conversations", "{{conversation_id}}", "messages"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.test('Message sent', () => {",
                  "        pm.expect(response.message.body).to.exist;",
                  "    });",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "User 1: Reply Message",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token_user1}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"body\": \"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð”Ð°, Ð±ÑƒÐ´Ñƒ Ñ€Ð°Ð´ Ð¿Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð²Ð°ÑˆÐµ Ð¿Ð¾Ñ€Ñ‚Ñ„Ð¾Ð»Ð¸Ð¾. ÐšÐ¾Ð³Ð´Ð° Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð½Ð°Ñ‡Ð°Ñ‚ÑŒ?\"\n}"
            },
            "url": {
              "raw": "{{api_url}}/conversations/{{conversation_id}}/messages",
              "host": ["{{api_url}}"],
              "path": ["conversations", "{{conversation_id}}", "messages"]
            }
          }
        },
        {
          "name": "Get Conversation Messages",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token_user1}}"
              }
            ],
            "url": {
              "raw": "{{api_url}}/conversations/{{conversation_id}}/messages",
              "host": ["{{api_url}}"],
              "path": ["conversations", "{{conversation_id}}", "messages"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Messages retrieved', () => {",
                  "    pm.response.to.have.status(200);",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.messages).to.be.an('array');",
                  "    pm.expect(response.messages.length).to.be.greaterThan(0);",
                  "});"
                ]
              }
            }
          ]
        },
        {
          "name": "User 1: Get All Conversations",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token_user1}}"
              }
            ],
            "url": {
              "raw": "{{api_url}}/conversations",
              "host": ["{{api_url}}"],
              "path": ["conversations"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Conversations retrieved', () => {",
                  "    pm.response.to.have.status(200);",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.conversations).to.be.an('array');",
                  "});"
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "â­ Reviews System",
      "item": [
        {
          "name": "User 1: Leave Review for User 2",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token_user1}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"review\": {\n    \"reviewee_id\": \"{{user2_id}}\",\n    \"post_id\": \"{{post_id}}\",\n    \"rating\": 5,\n    \"work_quality\": 5,\n    \"communication\": 4,\n    \"timeliness\": 5,\n    \"would_recommend\": true,\n    \"review_type\": \"work_completed\",\n    \"comment\": \"ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð°! Ð¡Ð°Ð¹Ñ‚ ÑÐ´ÐµÐ»Ð°Ð½ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¾ Ð¸ Ð² ÑÑ€Ð¾Ðº. Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÑŽ!\"\n  }\n}"
            },
            "url": {
              "raw": "{{api_url}}/reviews",
              "host": ["{{api_url}}"],
              "path": ["reviews"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.test('Review created', () => {",
                  "        pm.expect(response.review.rating).to.eql(5);",
                  "    });",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Get User 2 Reviews",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token_user1}}"
              }
            ],
            "url": {
              "raw": "{{api_url}}/users/{{user2_id}}/reviews",
              "host": ["{{api_url}}"],
              "path": ["users", "{{user2_id}}", "reviews"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('User reviews retrieved', () => {",
                  "    pm.response.to.have.status(200);",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.reviews).to.be.an('array');",
                  "    pm.expect(response.stats).to.exist;",
                  "});"
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "ðŸ”” Notifications",
      "item": [
        {
          "name": "User 2: Update Location",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token_user2}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"lat\": 41.2995,\n  \"lng\": 69.2401\n}"
            },
            "url": {
              "raw": "{{api_url}}/notifications/location",
              "host": ["{{api_url}}"],
              "path": ["notifications", "location"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Location updated', () => {",
                  "    pm.response.to.have.status(200);",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.message).to.include('Location updated');",
                  "});"
                ]
              }
            }
          ]
        },
        {
          "name": "User 2: Get Notification Preferences",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token_user2}}"
              }
            ],
            "url": {
              "raw": "{{api_url}}/notifications/preferences",
              "host": ["{{api_url}}"],
              "path": ["notifications", "preferences"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Preferences retrieved', () => {",
                  "    pm.response.to.have.status(200);",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.preferences).to.exist;",
                  "});"
                ]
              }
            }
          ]
        },
        {
          "name": "User 2: Update Notification Preferences",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token_user2}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"preferences\": {\n    \"notification_radius_km\": 5.0,\n    \"notify_jobs\": true,\n    \"notify_tasks\": true,\n    \"notify_events\": false,\n    \"notify_help\": true,\n    \"weekend_notifications\": true,\n    \"min_price\": 100000,\n    \"max_price\": 1000000\n  }\n}"
            },
            "url": {
              "raw": "{{api_url}}/notifications/preferences",
              "host": ["{{api_url}}"],
              "path": ["notifications", "preferences"]
            }
          }
        },
        {
          "name": "User 2: Get Notifications",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token_user2}}"
              }
            ],
            "url": {
              "raw": "{{api_url}}/notifications?limit=20",
              "host": ["{{api_url}}"],
              "path": ["notifications"],
              "query": [
                {
                  "key": "limit",
                  "value": "20"
                }
              ]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Notifications retrieved', () => {",
                  "    pm.response.to.have.status(200);",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.notifications).to.be.an('array');",
                  "});"
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "ðŸ—‚ï¸ User Profiles",
      "item": [
        {
          "name": "User 1: Get Profile",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token_user1}}"
              }
            ],
            "url": {
              "raw": "{{api_url}}/me",
              "host": ["{{api_url}}"],
              "path": ["me"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('User 1 profile retrieved', () => {",
                  "    pm.response.to.have.status(200);",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.user.email).to.eql('employer@example.com');",
                  "});"
                ]
              }
            }
          ]
        },
        {
          "name": "User 2: Get Profile",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token_user2}}"
              }
            ],
            "url": {
              "raw": "{{api_url}}/me",
              "host": ["{{api_url}}"],
              "path": ["me"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('User 2 profile retrieved', () => {",
                  "    pm.response.to.have.status(200);",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.user.email).to.eql('worker@example.com');",
                  "});"
                ]
              }
            }
          ]
        }
      ]
    }
  ]
}
